---
// PaseInvitado.astro
---

<section class="py-8 md:py-12 lg:py-16 px-4 relative overflow-hidden">
  <!-- Fondo sutil con textura -->
  <!-- <div
    class="absolute inset-0 bg-gradient-to-b from-[#f5f9f0]/40 via-[#faf8f5]/20 to-[#f5f9f0]/40 z-0"
  >
  </div> -->

  <div class="max-w-3xl mx-auto relative z-10">
    <!-- CONTENEDOR PRINCIPAL -->
    <div class="relative">
      <!-- ðŸŒ¿ SEPARADOR SUPERIOR -->
      <div class="flex justify-center mb-6" id="separador-pase-top">
        <img
          src="/imagenes/Separador.png"
          alt="Separador decorativo"
          class="w-32 md:w-40 lg:w-48 h-auto object-contain opacity-90 icono-dorado"
        />
      </div>

      <!-- TÃTULO -->
      <div class="text-center mb-6" id="titulo-pase">
        <h2
          class="font-charm text-2xl md:text-3xl lg:text-4xl text-[#5a1491] font-bold mb-4"
        >
          PASE DE INVITADO
        </h2>
        <!-- LÃ­nea decorativa -->
        <div class="flex items-center justify-center gap-3">
          <div
            class="w-16 h-[2px] bg-gradient-to-r from-transparent to-[#5a1491]"
          >
          </div>
          <div class="w-2 h-2 rounded-full bg-[#5a1491]"></div>
          <div
            class="w-16 h-[2px] bg-gradient-to-l from-transparent to-[#5a1491]"
          >
          </div>
        </div>
      </div>

      <!-- CARD DEL PASE -->
      <div
        class="bg-white/95 backdrop-blur-sm rounded-3xl border-2 border-[#5a1491]/30 py-6 md:py-8 px-6 md:px-8 shadow-sm max-w-md mx-auto"
        id="card-pase"
      >
        <!-- CONTENIDO DEL PASE -->
        <div class="text-center space-y-4">
          <!-- NÃºmero de pases -->
          <div class="mb-6" id="numero-pases">
            <div
              class="inline-flex items-center justify-center w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-[#C3A1D9]/20 to-[#C9A961]/20 border-2 border-[#C3A1D9]/30 mb-3"
            >
              <span
                class="font-charm text-4xl md:text-5xl text-[#5a1491] font-bold"
              >
                1
              </span>
            </div>
            <p class="font-charm text-xl md:text-xl text-[#5a1491] font-bold">
              Pase
            </p>
          </div>

          <!-- Mensaje -->
          <div id="mensaje-pase">
            <p
              class="font-charm text-xl md:text-lg text-[#5a1491] leading-relaxed"
            >
              Este pase es vÃ¡lido para
              <span class="font-bold text-[#5a1491]">1 persona</span>
            </p>
          </div>
        </div>

        <!-- DECORACIÃ“N INFERIOR -->
        <div class="flex justify-center mt-6" id="decoracion-pase">
          <div class="flex gap-2">
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961]"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("ðŸŽ« Iniciando animaciÃ³n de Pase de Invitado...");

      // ðŸŽ¯ ESTADO INICIAL
      gsap.set("#separador-pase-top", { opacity: 0, scale: 0.8 });
      gsap.set("#titulo-pase", { opacity: 0, scale: 0.8 });
      gsap.set("#card-pase", { opacity: 0, scale: 0.8 });
      gsap.set("#numero-pases", { opacity: 0, scale: 0.8 });
      gsap.set("#mensaje-pase", { opacity: 0, scale: 0.8 });
      gsap.set("#decoracion-pase", { opacity: 0, scale: 0.8 });

      // âœ¨ ANIMACIÃ“N CON SCROLLTRIGGER
      ScrollTrigger.create({
        trigger: "#separador-pase-top",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => {
          // AnimaciÃ³n simultÃ¡nea de todos los elementos
          gsap.to(
            "#separador-pase-top, #titulo-pase, #card-pase, #numero-pases, #mensaje-pase, #decoracion-pase",
            {
              opacity: 1,
              scale: 1,
              duration: 1.2,
              ease: "back.out(1.4)",
            },
          );

          // âœ¨ ANIMACIONES CONTINUAS

          // Pulso suave en el nÃºmero
          gsap.to("#numero-pases > div", {
            scale: 1.05,
            duration: 2,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1.2,
          });

          // Pulso en puntos decorativos
          gsap.to("#decoracion-pase > div > div", {
            scale: 1.3,
            opacity: 0.4,
            duration: 2,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            stagger: 0.15,
            delay: 1.5,
          });
        },
        onLeaveBack: () => {
          // Restaurar estado inicial
          gsap.set("#separador-pase-top", { opacity: 0, scale: 0.8 });
          gsap.set("#titulo-pase", { opacity: 0, scale: 0.8 });
          gsap.set("#card-pase", { opacity: 0, scale: 0.8 });
          gsap.set("#numero-pases", { opacity: 0, scale: 0.8 });
          gsap.set("#mensaje-pase", { opacity: 0, scale: 0.8 });
          gsap.set("#decoracion-pase", { opacity: 0, scale: 0.8 });
        },
      });

      console.log("ðŸŽ«âœ… Â¡Componente Pase de Invitado activado!");
    });
  }
</script>

<style>
  /* TransiciÃ³n suave para el card */
  #card-pase {
    transition: all 0.3s ease;
  }

  #card-pase:hover {
    box-shadow: 0 25px 60px rgba(201, 169, 97, 0.25);
    transform: translateY(-5px);
  }

  /* Efecto hover en el nÃºmero */
  #numero-pases > div {
    transition: all 0.4s ease;
  }

  #numero-pases:hover > div {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(195, 161, 217, 0.3);
  }

  /* Separadores con hover */
  #separador-pase-top img {
    transition: all 0.3s ease;
  }

  #separador-pase-top:hover img {
    transform: scale(1.05);
    filter: brightness(1.1);
  }

  /* Puntos decorativos */
  #decoracion-pase > div > div {
    transition: all 0.3s ease;
  }

  /* Filtro dorado para #a27735 */
  .icono-dorado {
    filter: brightness(0) saturate(100%) invert(16%) sepia(89%) saturate(3571%)
      hue-rotate(274deg) brightness(82%) contrast(108%);
    transition:
      filter 0.3s ease,
      transform 0.3s ease;
  }
</style>
